attributes.default:
  app:
    binary: app
    src_path: .
    module_path: = @('app.src_path')
    port: 80
    health_port: 80

  domain: my127.site
  hostname: = @('namespace') ~ '.' ~ @('domain')

  docker:
    repository: = @("workspace.name")
    tagPrefix: = ''
    config: null

  go:
    version: 1.13
  
  helm:
    timeout: 300
  
  jenkins:
    credentials:
      my127ws_key: = @('workspace.name') ~ '-my127ws-key'

  pipeline:
    publish:
      enabled: no
    preview:
      enabled: no
      namespace: = @('workspace.name') ~ '-' ~ slugify(branch())
      hostname:  = @('pipeline.preview.namespace') ~ '.example.com'
    base:
      resourcePrefix: ~
      hostname: = @('pipeline.base.namespace') ~ '.example.com'
    qa:
      enabled: no
      namespace: = @('workspace.name') 
      hostname: = @('pipeline.qa.namespace') ~ '.' ~ @('domain')
      resourcePrefix: ~
