#!/bin/bash

{% import './docker/image/app/root/lib/task/modules/common.twig' as common %}

function task_modules_before()
{
    {% for step in @('go.modules.before.steps') -%}
        {{ step|raw }}
    {% endfor %}

    {% if @('go.formatter') == 'goimports' %}
    go {{ common.operator }} golang.org/x/tools/cmd/goimports{{ common.version }}
    {% endif %}

    go {{ common.operator }} github.com/fzipp/gocyclo/cmd/gocyclo{{ common.version }}
    go {{ common.operator }} github.com/gordonklaus/ineffassign{{ common.version }}
}
